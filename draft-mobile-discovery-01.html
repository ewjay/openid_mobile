<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>OpenID Connect Mobile Discovery Profile 1.0</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
      /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
      a.info {
          /* This is the key. */
          position: relative;
          z-index: 24;
          text-decoration: none;
      }
      a.info:hover {
          z-index: 25;
          color: #FFF; background-color: #900;
      }
      a.info span { display: none; }
      a.info:hover span.info {
          /* The span will display just on :hover state. */
          display: block;
          position: absolute;
          font-size: smaller;
          top: 2em; left: -5em; width: 15em;
          padding: 2px; border: 1px solid #333;
          color: #900; background-color: #EEE;
          text-align: left;
      }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  max-width: 55em;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents"/>
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction"/>
<link href="#rfc.section.1.1" rel="Chapter" title="1.1 Requirements Notation and Conventions"/>
<link href="#rfc.section.1.2" rel="Chapter" title="1.2 Terminology"/>
<link href="#rfc.section.2" rel="Chapter" title="2 Overview"/>
<link href="#rfc.section.2.1" rel="Chapter" title="2.1 Redirect-based flow"/>
<link href="#rfc.section.2.2" rel="Chapter" title="2.2 POST-based flow"/>
<link href="#rfc.section.3" rel="Chapter" title="3 Mobile Issuer Discovery Service"/>
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 User Interaction Endpoint"/>
<link href="#rfc.section.3.1.1" rel="Chapter" title="3.1.1 Request"/>
<link href="#rfc.section.3.1.2" rel="Chapter" title="3.1.2 Response"/>
<link href="#rfc.section.3.1.3" rel="Chapter" title="3.1.3 Error Response"/>
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 Issuer Endpoint"/>
<link href="#rfc.section.3.2.1" rel="Chapter" title="3.2.1 Request"/>
<link href="#rfc.section.3.2.2" rel="Chapter" title="3.2.2 Response"/>
<link href="#rfc.section.4" rel="Chapter" title="4 Dynamic Registration with Discovery Service"/>
<link href="#rfc.section.5" rel="Chapter" title="5 Account Chooser"/>
<link href="#rfc.section.5.1" rel="Chapter" title="5.1 AC Client"/>
<link href="#rfc.section.5.2" rel="Chapter" title="5.2 AC Identity Provider"/>
<link href="#rfc.section.6" rel="Chapter" title="6 Security Considerations"/>
<link href="#rfc.section.7" rel="Chapter" title="7 Privacy Considerations"/>
<link href="#rfc.section.8" rel="Chapter" title="8 IANA Considerations"/>
<link href="#rfc.references" rel="Chapter" title="9 Normative References"/>
<link href="#rfc.appendix.A" rel="Chapter" title="A Acknowledgements"/>
<link href="#rfc.appendix.B" rel="Chapter" title="B Notices"/>
<link href="#rfc.appendix.C" rel="Chapter" title="C Document History"/>
<link href="#rfc.authors" rel="Chapter"/>


  <meta name="generator" content="xml2rfc version 2.5.1.dev0 - http://tools.ietf.org/tools/xml2rfc" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />

  <meta name="dct.creator" content="Lodderstedt, T. and J. Bradley" />
  <meta name="dct.identifier" content="urn:ietf:id:draft-mobile-discovery-02" />
  <meta name="dct.issued" scheme="ISO8601" content="2015-7-18" />
  <meta name="dct.abstract" content="" />
  <meta name="description" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
  <td class="left"></td>
  <td class="right">T. Lodderstedt</td>
</tr>
<tr>
  <td class="left"></td>
  <td class="right">Deutsche Telekom AG</td>
</tr>
<tr>
  <td class="left"></td>
  <td class="right">J. Bradley</td>
</tr>
<tr>
  <td class="left"></td>
  <td class="right">Ping Identity</td>
</tr>
<tr>
  <td class="left"></td>
  <td class="right">July 18, 2015</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">OpenID Connect Mobile Discovery Profile 1.0<br />
  <span class="filename">draft-mobile-discovery-02</span></p>
  
  <h1 id="rfc.abstract">
  <a href="#rfc.abstract">Abstract</a>
</h1>
<p><a href="#OpenID.Discovery">OpenID Connect Discovery 1.0</a> <cite title="NONE">[OpenID.Discovery]</cite> section 2.1 specifies a way to normalize a user identifier to derive a resource and especially a host for OpenID Provider Issuer Discovery.  While this works well for identifiers as email addresses and urls, it does not work for typical identifiers from the mobile network space. In a mobile environment, MSISDN's or ip-addresses are typical resources identifying a user or the respective mobile network operator (MNO). The structure of those identifiers does not allow for an algorithmic normalization. Thus it will be necessary to have a specific service to perform the normalization.</p>
<p>The OpenID Connect Mobile Discovery Profile specifies the interface of this service. Part of the interface specification will be the identification of possible user input identifier types relevant in the Mobile Connect scenario. Remark: Some of those user input identifier types may not identify a single user/device but may be sufficient to identify the right mobile operator. An example for this is the MNC/MCC tuple (mobile network code/ mobile contry code) or the IP address range.</p>
<p>This profile also specifies how a client registers with the MNO discovery service and how <a href="#Account.Chooser">Account Chooser service</a> <cite title="NONE">[Account.Chooser]</cite> can be used to further improve user experience in the overall Mobile Connect flow.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a></li>
<ul><li>1.1.   <a href="#rfc.section.1.1">Requirements Notation and Conventions</a></li>
<li>1.2.   <a href="#rfc.section.1.2">Terminology</a></li>
</ul><li>2.   <a href="#rfc.section.2">Overview</a></li>
<ul><li>2.1.   <a href="#rfc.section.2.1">Redirect-based flow</a></li>
<li>2.2.   <a href="#rfc.section.2.2">POST-based flow</a></li>
</ul><li>3.   <a href="#rfc.section.3">Mobile Issuer Discovery Service</a></li>
<ul><li>3.1.   <a href="#rfc.section.3.1">User Interaction Endpoint</a></li>
<ul><li>3.1.1.   <a href="#rfc.section.3.1.1">Request</a></li>
<li>3.1.2.   <a href="#rfc.section.3.1.2">Response</a></li>
<li>3.1.3.   <a href="#rfc.section.3.1.3">Error Response</a></li>
</ul><li>3.2.   <a href="#rfc.section.3.2">Issuer Endpoint</a></li>
<ul><li>3.2.1.   <a href="#rfc.section.3.2.1">Request</a></li>
<li>3.2.2.   <a href="#rfc.section.3.2.2">Response</a></li>
</ul></ul><li>4.   <a href="#rfc.section.4">Dynamic Registration with Discovery Service</a></li>
<li>5.   <a href="#rfc.section.5">Account Chooser</a></li>
<ul><li>5.1.   <a href="#rfc.section.5.1">AC Client</a></li>
<li>5.2.   <a href="#rfc.section.5.2">AC Identity Provider</a></li>
</ul><li>6.   <a href="#rfc.section.6">Security Considerations</a></li>
<li>7.   <a href="#rfc.section.7">Privacy Considerations</a></li>
<li>8.   <a href="#rfc.section.8">IANA Considerations</a></li>
<li>9.   <a href="#rfc.references">Normative References</a></li>
<li>Appendix A.   <a href="#rfc.appendix.A">Acknowledgements</a></li>
<li>Appendix B.   <a href="#rfc.appendix.B">Notices</a></li>
<li>Appendix C.   <a href="#rfc.appendix.C">Document History</a></li>
<li><a href="#rfc.authors">Authors' Addresses</a></li>


  </ul>

  <h1 id="rfc.section.1"><a href="#rfc.section.1">1.</a> <a href="#Introduction" id="Introduction">Introduction</a></h1>
<p id="rfc.section.1.p.1">OpenID Connect Mobile Discovery Profile 1.0 is a profile of the <a href="#OpenID.Discovery">OpenID Connect Discovery 1.0</a> <cite title="NONE">[OpenID.Discovery]</cite> specification that stipulates how a OpenID Connect client can use mobile network specific identifiers to determine the authoritative issuer for a identifier thereby enabling to detemine the OpenID OP belonging to a particular MNO.</p>
<h1 id="rfc.section.1.1"><a href="#rfc.section.1.1">1.1.</a> <a href="#rnc" id="rnc">Requirements Notation and Conventions</a></h1>
<p id="rfc.section.1.1.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">[RFC2119]</a>.</p>
<p id="rfc.section.1.1.p.2">Throughout this document, values are quoted to indicate that they are to be taken literally. When using these values in protocol messages, the quotes MUST NOT be used as part of the value.</p>
<h1 id="rfc.section.1.2"><a href="#rfc.section.1.2">1.2.</a> <a href="#terminology" id="terminology">Terminology</a></h1>
<p id="rfc.section.1.2.p.1">This specification uses the terms "Access Token", "Refresh Token", "Authorization Code", "Authorization Grant", "Authorization Server", "Authorization Endpoint", "Client", "Client Identifier", "Client Secret", "Protected Resource", "Resource Owner", "Resource Server", and "Token Endpoint" defined by <a href="#RFC6749">OAuth 2.0</a> <cite title="NONE">[RFC6749]</cite>. This specification also defines the following terms:</p>
<h1 id="rfc.section.2"><a href="#rfc.section.2">2.</a> Overview</h1>
<p id="rfc.section.2.p.1">This specification defines two different discovery flows intended to fit the needs of both server-based web as well as native applications residing on mobile devices.</p>
<p id="rfc.section.2.p.2">The protocol design is guided by to following requirements:</p>
<p/>

<ul>
  <li>a RP may not process the MSISDN in the course of the discovery process. The MSISDN shall only be entered in the user interface provided by the trusted discovery service.</li>
  <li>Due to privacy reasons and the cost risk for MNOs associated with it, it must be ensured that the discovery service cannot be abused as a mobile phone number lookup service by unauthorized parties.</li>
</ul>
<p id="rfc.section.2.p.4">OpenID Connect Clients using this specification are encouraged to use the <a href="#Account.Chooser">OpenID Account chooser service</a> <cite title="NONE">[Account.Chooser]</cite>. This allows them to bypass discovery for users that already have account information cached.</p>
<h1 id="rfc.section.2.1"><a href="#rfc.section.2.1">2.1.</a> Redirect-based flow</h1>
<p id="rfc.section.2.1.p.1">This section gives an overview on the redirect-based flow, which is intended to be used by server-side web application. The design of this flow is inspired by the OAuth 2.0 authorization code flow <a href="#RFC6749">[RFC6749]</a>.</p>
<p id="rfc.section.2.1.p.2">Note: This flow, in contrast to the POST-based flow, does support lookup of the MNO based on the user's MSISDN.</p>
<p>The following figure shows the message flow during the discovery process.</p>
<pre>     +--------+                               +---------------+
     |        |--(A)- Existing Account? -----&gt;|   Account     |
     |        |&lt;-(B)-- Account Data ----------| Chooser CDS   |
     |        |                               +---------------+
     |        |                               +---------------------------------+   
     |        |                               | Mobile Issuer Discovery Service |
     |        |                               |                                 | 
     |        |                               +------------------+              |
     |        |--(C)-- Discovery Request ----&gt;| User Interaction |              |
     | Client |&lt;-(D)----- Code ---------------|     Endpoint     |              |
     |        |                               +------------------+              |
     |        |                               +------------------+              |          
     |        |--(E)----- Code --------------&gt;|   Issuer         |              |
     |        |&lt;-(F)--- Issuer ---------------|   Endpoint       |              |
     |        |                               +------------------+              |
     |        |                               +---------------------------------+                                 
     |        |                               +---------------+
     |        |--(G)----- Issuer ------------&gt;|   MNO's OP    |
     |        |&lt;-(H)--- openid configuration -|               |
     +--------+                               +---------------+
</pre>
<p>Figure 1 Redirect-based flow (Abstract Protocol Flow)</p>
<p/>

<ul class="empty">
  <li>(A) The Client first tries to obtain data of a valid user account from the Account Chooser Central Data Store in the User's browser. If appropriate user accounts can be found in the local storage, the user is presented with those user accounts and asked to select one of them for use for the authentication process.</li>
  <li>(B) If an user account is selected by the user, the account chooser sends the respective Issuer and a pseudonym user id to the client. The Client then skips steps C through F and directly obtains the MNO's OPs openid configuration (steps G and H).</li>
  <li>(C) I no appropriate user account could be found, the Client starts the issuer discovery by sending a discovery request to the User Interaction endpoint of the Mobile Issuer Discovery Service.  The Client identifies itself by way of an client id and indicated the URI the user interaction service shall send the user agent to after processing the request. Moreover, the client may pass MCC, MNC or IMSI as part of the discovery request. If available, the MNO is determined based on MCC/MNC or IMSI. Otherwise, the user interaction service first tries to deduce the MNO from source IP address range of the request. If that's impossible, the user is asked for her MSISDN, which is used to looksup the respective MNO from a database.</li>
  <li>(D) The User Interaction Endpoint does not directly respond to the client with the Issuer of the MNO's OP. Instead, it creates a code, which is associated with the ongoing transaction and sends it back to the client using the redirect URI passed by the client.  This indirection allows to authenticate and authorize the client at the Issuer endpoint before the process is completed.</li>
  <li>(E) The client sends the code along with its credentials to the Issuer Endpoint. </li>
  <li>(F) The endpoint validates the client credentials and responds with the OpenID Issuer associated with the user's MNO. If the user provided the discovery service with her MSISDN in order to determine the MNO, this MSISDN is encrypted and also returned to the client. The client is supposed to pass this encrypted MSISDN as additional hint to the authentication process in order to spare the user to enter the MSISDN twice.</li>
  <li>(G) The client builds the URL refering to the OpenID configuration of the MNO's OpenID server and sends a GET request to it.</li>
  <li>(H) The OP provides the client with a JSON document containing meta data regarding endpoints, capabilities and policies. The client is now fully equipped to start interaction with the respective OP.</li>
</ul>
<p id="rfc.section.2.1.p.4">The User Interaction and Issuer Endpoints are specified in sections <a href="#ui_endpoint">Section 3.1</a> and <a href="#discovery_endpoint">Section 3.2</a> , respectively.</p>
<p id="rfc.section.2.1.p.5">Access to the OP's meta data (steps (G) and (H)) is defined in <a href="#OpenID.Discovery">[OpenID.Discovery]</a>, section 4, and is therefore outside of the scope of this specification.</p>
<p id="rfc.section.2.1.p.6">Note: After the client logged the user in sucessfully with a particular IDP (and has remembered the respective Issuer URL), there is no need to conduct the full issuer process again. The client can instead directly obtain the OP's meta data using the openid configuration (steps G and H).</p>
<h1 id="rfc.section.2.2"><a href="#rfc.section.2.2">2.2.</a> POST-based flow</h1>
<p id="rfc.section.2.2.p.1">This section gives an overview on the POST-based flow, which is intended to be used by native apps residing on mobile devices. The rationale is to allow apps to conduct issuer discovery without the need to use a web browser, which would degrade user experience and increase complexity and implementation effort. The assumption is that such apps cannot reliably be authenticated and authorized, so MSISDN-based lookup is not offered.</p>
<p>The following figure shows the message flow during the discovery process.</p>
<pre>     +--------+                               +---------------------------------+   
     |        |                               | Mobile Issuer Discovery Service |
     |        |                               +------------------+              |          
     |        |--(A)---discovery data -------&gt;|   Issuer         |              |
     |        |&lt;-(B)--- Issuer ---------------|   Endpoint       |              |
     |        |                               +------------------+              |
     |        |                               +---------------------------------+                                 
     |        |                               +---------------+
     |        |--(C)----- Issuer ------------&gt;|   MNO's OP    |
     |        |&lt;-(D)--- openid configuration -|               |
     +--------+                               +---------------+</pre>
<p>Figure 2 POST-based flow (Abstract Protocol Flow)</p>
<p/>

<ul class="empty">
  <li>(A) In contrast to the web-based flow, the client may directly send data (MNC/MCC or IMSI) it can contribute to determine the user's MNO to the Issuer Endpoint of the Mobile Issuer Discovery Service. The service tries to determine the MNO based on this data. If this data is not present, the discovery service attempts to determine the MNO based on the client's IP address. If that fails, the discovery process fails.</li>
  <li>(B) The Issuer Endpoint responds with the OpenID Issuer or an error message.</li>
  <li>(C) The client builds the URL refering to the OpenID configuration of the MNO and sends a GET request to it.</li>
  <li>(D) The OP provides the client with a JSON document containing meta data regarding endpoints, capabilities and policies. The client is now fully equipped to start interaction with the respective OP.</li>
</ul>
<p id="rfc.section.2.2.p.3">TBD: what if the service cannot determine MNO? Right now, we let the discovery fail. Alternatively, the client could also be provided with a list of potential MNOs, which it can present to the user for selection?</p>
<h1 id="rfc.section.3"><a href="#rfc.section.3">3.</a> <a href="#mobile-issuer-discovery-service" id="mobile-issuer-discovery-service">Mobile Issuer Discovery Service</a></h1>
<p id="rfc.section.3.p.1">The Mobile Issuer Discovery Service exposes the user interaction and issuer endpoint, which are specified in this section. It may also expose a registration endpoint (see below).</p>
<h1 id="rfc.section.3.1"><a href="#rfc.section.3.1">3.1.</a> <a href="#ui_endpoint" id="ui_endpoint">User Interaction Endpoint</a></h1>
<p id="rfc.section.3.1.p.1">The User Interaction Endpoint provides the user interface to the discovery service. It is used to enter the MSISDN, let the user select her MNO and automatically determining the client devices IP address.  The client is supposed to redirect the user agent to this endpoint. If the interactive process succeeds, the client is provided with a code, which it then exchanges at the Issuer Endpoint for the actual Issuer data and (optionally) user-specific data.</p>
<h1 id="rfc.section.3.1.1"><a href="#rfc.section.3.1.1">3.1.1.</a> <a href="#user-discovery-service-req" id="user-discovery-service-req">Request</a></h1>
<p id="rfc.section.3.1.1.p.1">The request to the User Interaction endpoint contains the following parameters: </p>

<dl>
  <dt>client_id</dt>
  <dd style="margin-left: 8">REQUIRED. The identifier of the respective client. This client must be known to the discovery service in advance.</dd>
  <dt>redirect_uri</dt>
  <dd style="margin-left: 8">REQUIRED. The URI the user agent shall be sent to after the discovery process has been completed.  The client must register its URIs in advance, the redirect_uri parameter must exactly match one of those URIs.</dd>
  <dt>state</dt>
  <dd style="margin-left: 8">OPTIONAL. Value used by the client to preserve state of a discovery transaction and to prevent XSRF attacks. The discovery service includes this value when redirecting the user-agent back to the client.</dd>
  <dt>mcc</dt>
  <dd style="margin-left: 8">OTIONAL. The Mobile Country Code as defined by ITU-T E.212</dd>
  <dt>mnc</dt>
  <dd style="margin-left: 8">OTIONAL. The Mobile Network Code as defined by ITU-T E.212</dd>
  <dt>imsi</dt>
  <dd style="margin-left: 8">OTIONAL. The International Mobile Subscriber Identity.</dd>
</dl>
<p/>
<p>For example, the client could ask for discovery with the following request:</p>
<pre>  GET /discovery_ui?client_id=example_client&amp;redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fdiscovery&amp;state=xy&amp;mcc=901&amp;mnc=99 HTTP/1.1
  Host: discovery.example.com
</pre>
<p/>
<h1 id="rfc.section.3.1.2"><a href="#rfc.section.3.1.2">3.1.2.</a> <a href="#user-discovery-service-resp" id="user-discovery-service-resp">Response</a></h1>
<p id="rfc.section.3.1.2.p.1">The discovery service returns the following parameters:</p>
<p/>

<dl>
  <dt>code</dt>
  <dd style="margin-left: 8">REQUIRED. The code is a temporary credential associated with the ongoing discovery transaction. The client is supposed to exchange this code for the actual discovery results at the issuer endpoint.</dd>
  <dt>state</dt>
  <dd style="margin-left: 8">REQUIRED if the "state" parameter was present in the client authorization request. The exact value received from the client.</dd>
</dl>
<p>The following shows how the discovery service redirects the user agent back to the client:</p>
<pre> HTTP/1.1 302 Found
     Location: https://client.example.com/discovery?code=SplxlOBeZQQYbYS6WxSbIA
               &amp;state=xyz</pre>
<h1 id="rfc.section.3.1.3"><a href="#rfc.section.3.1.3">3.1.3.</a> <a href="#user-discovery-service-err" id="user-discovery-service-err">Error Response</a></h1>
<p id="rfc.section.3.1.3.p.1">TBD</p>
<h1 id="rfc.section.3.2"><a href="#rfc.section.3.2">3.2.</a> <a href="#discovery_endpoint" id="discovery_endpoint">Issuer Endpoint</a></h1>
<p id="rfc.section.3.2.p.1">This endpoint provides the client with Issuer data. It supports two use cases:</p>
<p/>

<ol>
  <li>It exchanges the code created by the User Interaction Endpoint for issuer data.</li>
  <li>Clients may directly request issuer data by passing pass mobile network data.</li>
</ol>
<h1 id="rfc.section.3.2.1"><a href="#rfc.section.3.2.1">3.2.1.</a> Request</h1>
<p id="rfc.section.3.2.1.p.1">This is reflected in the "signature" of the request: </p>

<dl>
  <dt>client_id</dt>
  <dd style="margin-left: 8">REQUIRED. The identifier of the respective client. This client must be known to the discovery service in advance.</dd>
  <dt>client_secret</dt>
  <dd style="margin-left: 8">REQUIRED. If a client secret had been issued issued to the client.</dd>
  <dt>code</dt>
  <dd style="margin-left: 8">OPTIONAL. code value issued by the User Interaction Endpoint to this particular client.</dd>
  <dt>redirect_uri</dt>
  <dd style="margin-left: 8">REQUIRED. If the parameter "code is present. The actual URI used to invoke the user interaction endpoint.</dd>
  <dt>mcc</dt>
  <dd style="margin-left: 8">OTIONAL. The Mobile Country Code as defined by ITU-T E.212</dd>
  <dt>mnc</dt>
  <dd style="margin-left: 8">REQUIRED. If the parameter "mcc" is present.  The Mobile Network Code as defined by ITU-T E.212</dd>
  <dt>imsi</dt>
  <dd style="margin-left: 8">OTIONAL. The International Mobile Subscriber Identity.</dd>
</dl>
<p id="rfc.section.3.2.1.p.2">Either code, mcc or IMSI must be present in the request. The discovery service first validates the client credentials and the client's authorization to perform the request.</p>
<p id="rfc.section.3.2.1.p.3">If code is present, the discovery service verifies, whether (1) this code had been issued to this client and (2) whether "redirect_uri" matches the redirect URI used in the original request to the User Interaction Endpoint (TBD: really needed? we need to conduct a threat analysis).</p>
<p id="rfc.section.3.2.1.p.4">If "mcc" and "mnc" are present, the discovery service tries to determine the MNO based on this data. The same holds true, if "imsi" is found in the request.</p>
<p id="rfc.section.3.2.1.p.5">TBD: does it sense to introduce a request type parameter (or different endpoints) to distinguish redirect (code) and direct use?</p>
<p id="rfc.section.3.2.1.p.6">TBD: client secrets via authorization header</p>
<p>For example, the client could send the following request:</p>
<pre>POST /discovery_issuer HTTP/1.1
Host: discovery.example.com

client_id=example_client&amp;client_secret=secret&amp;code=SplxlOBeZQQYbYS6WxSbIA&amp;redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fdiscovery</pre>
<p/>
<h1 id="rfc.section.3.2.2"><a href="#rfc.section.3.2.2">3.2.2.</a> <a href="#user-discovery-endpoint-resp" id="user-discovery-endpoint-resp">Response</a></h1>
<p id="rfc.section.3.2.2.p.1">The response from the issuer endpoint is a JSON object containing the following top level elements: </p>

<dl>
  <dt>iss</dt>
  <dd style="margin-left: 8">The Issuer URI "iss" for the user who has authorized discovery.</dd>
  <dt>login_hint_token</dt>
  <dd style="margin-left: 8">A Encrypted JSON web token (JWE) that contains the user hint for the issuer. The token MUST be encrypted with the public key of the issuer. This token is passed to the issuer in the authentication request. Usage, structure, and processing rules of the login hint token are specified in <a href="#modrna.authentication">[modrna.authentication]</a></dd>
</dl>
<p>The following is a non-normative example of the Issuer response:</p>
<pre>HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
Cache-Control: no-store
Pragma: no-cache

{
   "iss": "https://example_provider.com",
   "login_hint_token": "eyJhbGciOiJSU0EtT0FFUCIsImVuYyI6IkEyNTZHQ00ifQ.
     OKOawDo13gRp2ojaHV7LFpZcgV7T6DVZKTyKOMTYUmKoTCVJRgckCL9kiMT03JGe
     ipsEdY3mx_etLbbWSrFr05kLzcSr4qKAq7YN7e9jwQRb23nfa6c9d-StnImGyFDb
     Sv04uVuxIp5Zms1gNxKKK2Da14B8S4rzVRltdYwam_lDp5XnZAYpQdb76FdIKLaV
     mqgfwX7XWRxv2322i-vDxRfqNzo_tETKzpVLzfiwQyeyPGLBIO56YJ7eObdv0je8
     1860ppamavo35UgoRdbYaBcoh9QcfylQr66oc6vFWXRcZ_ZT2LawVCWTIy3brGPi
     6UklfCpIMfIjf7iGdXKHzg.
     48V1_ALb6US04U3b.
     5eym8TW_c8SuK0ltJ3rpYIzOeDQz7TALvtu6UG9oMo4vpzs9tX_EFShS8iB7j6ji
     SdiwkIr3ajwQzaBtQD_A.
     XFBoMYUZodetZdvTiFvSkQ"
}</pre>
<h1 id="rfc.section.4"><a href="#rfc.section.4">4.</a> <a href="#user-discovery-service-reg" id="user-discovery-service-reg">Dynamic Registration with Discovery Service</a></h1>
<p id="rfc.section.4.p.1">[TBD]The client must register with the discovery service and have a valid OAuth client_id.</p>
<h1 id="rfc.section.5"><a href="#rfc.section.5">5.</a> <a href="#Account_Chooser" id="Account_Chooser">Account Chooser</a></h1>
<h1 id="rfc.section.5.1"><a href="#rfc.section.5.1">5.1.</a> <a href="#Account_chooser_client" id="Account_chooser_client">AC Client</a></h1>
<p id="rfc.section.5.1.p.1">It is recommended that Web server clients use the Account Chooser Central Data Store (CDS) for discovering the users preferred account.</p>
<p><a href="#Account.Chooser">Account Chooser</a> <cite title="NONE">[Account.Chooser]</cite> is invoked with the following script:</p>
<pre>
&lt;script type="text/javascript"
     src="https://www.accountchooser.com/ac.js" /&gt;
&lt;script&gt;
 accountchooser.CONFIG.uiConfig = { 
	title: 'Sign in to Example.com', 
	favicon: 'http://example.com/favicon.ico', 
	branding: 'http://example.com/branding/ac-blurb.html' 
     };
&lt;/script&gt;
		 </pre>
<p id="rfc.section.5.1.p.3">If the user clicks on one of the accounts, ac.js sends an HTTP POST to a status checker (userStatusUrl:/account-status) that the client has to to implement. The status checker will receive up to five arguments as URL query parameters.</p>
<p id="rfc.section.5.1.p.4">The paramaters if available are:</p>
<p/>

<dl>
  <dt>email</dt>
  <dd style="margin-left: 8"><br/> x</dd>
  <dt>displayName</dt>
  <dd style="margin-left: 8"><br/> x</dd>
  <dt>photoUrl</dt>
  <dd style="margin-left: 8"><br/> x</dd>
  <dt>providerId</dt>
  <dd style="margin-left: 8"><br/> x</dd>
  <dt>login_hint_token</dt>
  <dd style="margin-left: 8"><br/> x</dd>
</dl>
<p>For example (with line wraps within values for display purposes only):</p>
<pre>
POST /token HTTP/1.1
  Host: server.example.com
  Content-Type: application/x-www-form-urlencoded

    email=555-1212@babytel.com&amp;
    displayName=i1WsRn1uB1&amp;
    photoUrl=s6BhdRkqt3&amp;
    providerId=babytel.com&amp;
    login_hint_token=eyJhbGciOiJSU0EtT0FFUCIsImVuYyI6IkEyNTZHQ00ifQ.
     OKOawDo13gRp2ojaHV7LFpZcgV7T6DVZKTyKOMTYUmKoTCVJRgckCL9kiMT03JGe
     ipsEdY3mx_etLbbWSrFr05kLzcSr4qKAq7YN7e9jwQRb23nfa6c9d-StnImGyFDb
     Sv04uVuxIp5Zms1gNxKKK2Da14B8S4rzVRltdYwam_lDp5XnZAYpQdb76FdIKLaV
     mqgfwX7XWRxv2322i-vDxRfqNzo_tETKzpVLzfiwQyeyPGLBIO56YJ7eObdv0je8
     1860ppamavo35UgoRdbYaBcoh9QcfylQr66oc6vFWXRcZ_ZT2LawVCWTIy3brGPi
     6UklfCpIMfIjf7iGdXKHzg.
     48V1_ALb6US04U3b.
     5eym8TW_c8SuK0ltJ3rpYIzOeDQz7TALvtu6UG9oMo4vpzs9tX_EFShS8iB7j6ji
     SdiwkIr3ajwQzaBtQD_A.
     XFBoMYUZodetZdvTiFvSkQ
		 </pre>
<h1 id="rfc.section.5.2"><a href="#rfc.section.5.2">5.2.</a> <a href="#Account_chooser_idp" id="Account_chooser_idp">AC Identity Provider</a></h1>
<p id="rfc.section.5.2.p.1">Identity providers will populate the account information in Account Chooser's browser local storrage as the result of a successful loggin before redirecting the user back to the client.</p>
<p id="rfc.section.5.2.p.2">If the user account has not been provisioned in the Browsers local storrage, the Identity provider MUST offer to store the account before redirecting the user back to the Connect client.</p>
<p id="rfc.section.5.2.p.3">The following is an example of the script elements invoking ac.js offering to store an account:</p>
<pre>
&lt;script type="text/javascript" 
	src="https://www.accountchooser.com/ac.js" /&gt;
&lt;script type="text/javascript"&gt; 
	accountchooser.CONFIG = { 
	// Sets the home-page URL to "/top" 
	homeUrl: '/top', 
 
	// Instructs ac.js to offer storage of an account via 
	// accountchooser.com 
	storeAccount: { 
		email: "555-1212@babytel.com", 
		displayName: "Santa Claus",
		providerId: : "babytel.com",
		login_hint_token: 
		"eyJhbGciOiJSU0EtT0FFUCIsImVuYyI6IkEyNTZHQ00ifQ.
     OKOawDo13gRp2ojaHV7LFpZcgV7T6DVZKTyKOMTYUmKoTCVJRgckCL9kiMT03JGe
     ipsEdY3mx_etLbbWSrFr05kLzcSr4qKAq7YN7e9jwQRb23nfa6c9d-StnImGyFDb
     Sv04uVuxIp5Zms1gNxKKK2Da14B8S4rzVRltdYwam_lDp5XnZAYpQdb76FdIKLaV
     mqgfwX7XWRxv2322i-vDxRfqNzo_tETKzpVLzfiwQyeyPGLBIO56YJ7eObdv0je8
     1860ppamavo35UgoRdbYaBcoh9QcfylQr66oc6vFWXRcZ_ZT2LawVCWTIy3brGPi
     6UklfCpIMfIjf7iGdXKHzg.
     48V1_ALb6US04U3b.
     5eym8TW_c8SuK0ltJ3rpYIzOeDQz7TALvtu6UG9oMo4vpzs9tX_EFShS8iB7j6ji
     SdiwkIr3ajwQzaBtQD_A.
     XFBoMYUZodetZdvTiFvSkQ",
		providerId: "babytel.com"
	} 
}; 
&lt;/script&gt;
		 </pre>
<h1 id="rfc.section.6"><a href="#rfc.section.6">6.</a> <a href="#security_considerations" id="security_considerations">Security Considerations</a></h1>
<p id="rfc.section.6.p.1">TBD</p>
<p id="rfc.section.6.p.2">Open Redirector (user interaction endpoint)</p>
<h1 id="rfc.section.7"><a href="#rfc.section.7">7.</a> <a href="#privacy_considerations" id="privacy_considerations">Privacy Considerations</a></h1>
<p id="rfc.section.7.p.1">TBD</p>
<p id="rfc.section.7.p.2">confidentiality of MSISDN</p>
<h1 id="rfc.section.8"><a href="#rfc.section.8">8.</a> <a href="#IANA" id="IANA">IANA Considerations</a></h1>
<p id="rfc.section.8.p.1">This document makes no requests of IANA.</p>
<h1 id="rfc.references"><a href="#rfc.references">9.</a> Normative References</h1>
<table>
  <tbody>
    <tr>
      <td class="reference">
        <b id="Account.Chooser">[Account.Chooser]</b>
      </td>
      <td class="top"><a>, </a>, "<a>Account Chooser (AC)</a>", May 2013.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="JWT">[JWT]</b>
      </td>
      <td class="top"><a title="Microsoft">Jones, M.</a>, <a title="Ping Identity">Bradley, J.</a> and <a title="Nomura Research Institute, Ltd.">N. Sakimura</a>, "<a href="http://tools.ietf.org/html/draft-ietf-oauth-json-web-token">JSON Web Token (JWT)</a>", Internet-Draft draft-ietf-oauth-json-web-token, May 2013.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="modrna.authentication">[modrna.authentication]</b>
      </td>
      <td class="top"><a title="Deutsche Telekom">Connotte, J.</a> and <a title="Ping Identity">J. Bradley</a>, "<a>OpenID Connect Mobile Authentication Profile 1.0</a>", June 2015.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="OpenID.Core">[OpenID.Core]</b>
      </td>
      <td class="top"><a title="Nomura Research Institute, Ltd.">Sakimura, N.</a>, <a title="Ping Identity">Bradley, J.</a>, <a title="Microsoft">Jones, M.</a>, <a title="Google">de Medeiros, B.</a>, <a title="Salesforce">Mortimore, C.</a> and <a title="Illumila">E. Jay</a>, "<a>OpenID Connect Standard 1.0</a>", December 2013.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="OpenID.Discovery">[OpenID.Discovery]</b>
      </td>
      <td class="top"><a title="Nomura Research Institute, Ltd.">Sakimura, N.</a>, <a title="Ping Identity">Bradley, J.</a>, <a title="Microsoft">Jones, M.</a> and <a title="Illumila">E. Jay</a>, "<a>OpenID Connect Discovery 1.0</a>", September 2014.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="OpenID.Registration">[OpenID.Registration]</b>
      </td>
      <td class="top"><a title="Nomura Research Institute, Ltd.">Sakimura, N.</a>, <a title="Ping Identity">Bradley, J.</a> and <a title="Microsoft">M. Jones</a>, "<a>OpenID Connect Dynamic Client Registration 1.0</a>", December 2013.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC2119">[RFC2119]</b>
      </td>
      <td class="top"><a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC2246">[RFC2246]</b>
      </td>
      <td class="top"><a>Dierks, T.</a> and <a>C. Allen</a>, "<a href="http://tools.ietf.org/html/rfc2246">The TLS Protocol Version 1.0</a>", RFC 2246, DOI 10.17487/RFC2246, January 1999.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC5246">[RFC5246]</b>
      </td>
      <td class="top"><a>Dierks, T.</a> and <a>E. Rescorla</a>, "<a href="http://tools.ietf.org/html/rfc5246">The Transport Layer Security (TLS) Protocol Version 1.2</a>", RFC 5246, August 2008.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC6749">[RFC6749]</b>
      </td>
      <td class="top"><a>Hardt, D.</a>, "<a href="http://tools.ietf.org/html/rfc6749">The OAuth 2.0 Authorization Framework</a>", RFC 6749, DOI 10.17487/RFC6749, October 2012.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC6750">[RFC6750]</b>
      </td>
      <td class="top"><a>Jones, M.</a> and <a>D. Hardt</a>, "<a href="http://tools.ietf.org/html/rfc6750">The OAuth 2.0 Authorization Framework: Bearer Token Usage</a>", RFC 6750, DOI 10.17487/RFC6750, October 2012.</td>
    </tr>
  </tbody>
</table>
<h1 id="rfc.appendix.A"><a href="#rfc.appendix.A">Appendix A.</a> <a href="#Acknowledgements" id="Acknowledgements">Acknowledgements</a></h1>
<p id="rfc.section.A.p.1">The following have contributed to the development of this specification.</p>
<p/>

<ul class="empty">
  <li/>
</ul>
<h1 id="rfc.appendix.B"><a href="#rfc.appendix.B">Appendix B.</a> <a href="#Notices" id="Notices">Notices</a></h1>
<p id="rfc.section.B.p.1">Copyright (c) 2014 The OpenID Foundation.</p>
<p id="rfc.section.B.p.2">The OpenID Foundation (OIDF) grants to any Contributor, developer, implementer, or other interested party a non-exclusive, royalty free, worldwide copyright license to reproduce, prepare derivative works from, distribute, perform and display, this Implementers Draft or Final Specification solely for the purposes of (i) developing specifications, and (ii) implementing Implementers Drafts and Final Specifications based on such documents, provided that attribution be made to the OIDF as the source of the material, but that such attribution does not indicate an endorsement by the OIDF.</p>
<p id="rfc.section.B.p.3">The technology described in this specification was made available from contributions from various sources, including members of the OpenID Foundation and others. Although the OpenID Foundation has taken steps to help ensure that the technology is available for distribution, it takes no position regarding the validity or scope of any intellectual property or other rights that might be claimed to pertain to the implementation or use of the technology described in this specification or the extent to which any license under such rights might or might not be available; neither does it represent that it has made any independent effort to identify any such rights. The OpenID Foundation and the contributors to this specification make no (and hereby expressly disclaim any) warranties (express, implied, or otherwise), including implied warranties of merchantability, non-infringement, fitness for a particular purpose, or title, related to this specification, and the entire risk as to implementing this specification is assumed by the implementer. The OpenID Intellectual Property Rights policy requires contributors to offer a patent promise not to assert certain patent claims against other contributors and against implementers. The OpenID Foundation invites any interested party to bring to its attention any copyrights, patents, patent applications, or other proprietary rights that may cover technology that may be required to practice this specification.</p>
<h1 id="rfc.appendix.C"><a href="#rfc.appendix.C">Appendix C.</a> <a href="#History" id="History">Document History</a></h1>
<p id="rfc.section.C.p.1">[[ To be removed from the final specification ]]</p>
<p id="rfc.section.C.p.2">-01 </p>

<ul>
  <li>Initial draft</li>
  <li>Added OIDF Standard Notice</li>
  <li>moved the definition of the encrypted id_token_int to login</li>
</ul>
<p id="rfc.section.C.p.3">-02 </p>

<ul>
  <li>completely reworked document to reflect latest discovery design and support for different flows</li>
  <li>extended Overview section to describe overall flows for web and native apps</li>
  <li>split discovery service into different endpoints and adopted the document structure accordingly</li>
  <li>added example requests and responses</li>
  <li>added reference to authentication profile</li>
</ul>
<h1 id="rfc.authors">
  <a href="#rfc.authors">Authors' Addresses</a>
</h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Torsten Lodderstedt</span> 
	  <span class="n hidden">
		<span class="family-name">Lodderstedt</span>
	  </span>
	</span>
	<span class="org vcardline">Deutsche Telekom AG</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:torsten@lodderstedt.net">torsten@lodderstedt.net</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">John Bradley</span> 
	  <span class="n hidden">
		<span class="family-name">Bradley</span>
	  </span>
	</span>
	<span class="org vcardline">Ping Identity</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:jbradley@pingidentity.com">jbradley@pingidentity.com</a></span>

  </address>
</div>

</body>
</html>
